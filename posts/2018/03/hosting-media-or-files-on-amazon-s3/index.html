<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="ie=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=author content="Brad Thornborrow ">
<meta name=description content="As I&amp;rsquo;ve mentioned in previous posts, I&amp;rsquo;m a big fan of Jekyll for creating static websites. The one obvious shortcoming of Jekyll is the entire site must be regenerated when adding even a single post. Lately I&amp;rsquo;ve been experimenting with Micro.blog for personal posts not appropriate here. It has an iOS app for making quick updates from your phone, and hooks into Twitter and Facebook for automatic cross-posting to your social feeds.">
<meta name=keywords content=",aws,hosting">
<meta name=robots content="noodp">
<meta name=theme-color content>
<link rel=canonical href=/posts/2018/03/hosting-media-or-files-on-amazon-s3/>
<title>
Hosting Media or Files on Amazon S3 ∣ Brad Thornborrow
</title>
<link href=https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.1/css/flag-icon.min.css rel=stylesheet type=text/css>
<link rel=stylesheet href=/main.min.feca676bd2344243429c1be3db7ad89c169586b90da8dd758767ee900ec735ef.css>
<link rel=stylesheet type=text/css href=/css/custom.css>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png>
<link rel=manifest href=/site.webmanifest>
<link rel=mask-icon href=/safari-pinned-tab.svg color>
<link rel="shortcut icon" href=/favicon.ico>
<meta name=msapplication-TileColor content>
<meta name=theme-color content>
<meta itemprop=name content="Hosting Media or Files on Amazon S3">
<meta itemprop=description content="As I&rsquo;ve mentioned in previous posts, I&rsquo;m a big fan of Jekyll for creating static websites. The one obvious shortcoming of Jekyll is the entire site must be regenerated when adding even a single post. Lately I&rsquo;ve been experimenting with Micro.blog for personal posts not appropriate here. It has an iOS app for making quick updates from your phone, and hooks into Twitter and Facebook for automatic cross-posting to your social feeds."><meta itemprop=datePublished content="2018-03-03T00:00:00+00:00">
<meta itemprop=dateModified content="2018-03-03T00:00:00+00:00">
<meta itemprop=wordCount content="885"><meta itemprop=image content="/">
<meta itemprop=keywords content="aws,hosting,"><meta property="og:title" content="Hosting Media or Files on Amazon S3">
<meta property="og:description" content="As I&rsquo;ve mentioned in previous posts, I&rsquo;m a big fan of Jekyll for creating static websites. The one obvious shortcoming of Jekyll is the entire site must be regenerated when adding even a single post. Lately I&rsquo;ve been experimenting with Micro.blog for personal posts not appropriate here. It has an iOS app for making quick updates from your phone, and hooks into Twitter and Facebook for automatic cross-posting to your social feeds.">
<meta property="og:type" content="article">
<meta property="og:url" content="/posts/2018/03/hosting-media-or-files-on-amazon-s3/"><meta property="og:image" content="/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2018-03-03T00:00:00+00:00">
<meta property="article:modified_time" content="2018-03-03T00:00:00+00:00">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="/">
<meta name=twitter:title content="Hosting Media or Files on Amazon S3">
<meta name=twitter:description content="As I&rsquo;ve mentioned in previous posts, I&rsquo;m a big fan of Jekyll for creating static websites. The one obvious shortcoming of Jekyll is the entire site must be regenerated when adding even a single post. Lately I&rsquo;ve been experimenting with Micro.blog for personal posts not appropriate here. It has an iOS app for making quick updates from your phone, and hooks into Twitter and Facebook for automatic cross-posting to your social feeds.">
<meta property="article:published_time" content="2018-03-03 00:00:00 +0000 UTC">
</head>
<body>
<div class=container>
<header class=header>
<span class=header__inner>
<a href=/ style=text-decoration:none>
<div class=logo>
<span class=logo__mark>></span>
<span class=logo__text>hello</span>
<span class=logo__cursor style=background-color:#34fe2e>
</span>
</div>
</a>
<span class=header__right>
<nav class=menu>
<ul class=menu__inner><li><a href=/about/>About</a></li><li><a href=/contact/>Contact</a></li><li><a href=/posts/>Posts</a></li>
</ul>
</nav>
<span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
</span>
</span>
</span>
</header>
<div class=content>
<main class=post>
<div class=post-info>
<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
5 minutes
</p>
</div>
<article>
<h1 class=post-title>
<a href=/posts/2018/03/hosting-media-or-files-on-amazon-s3/>Hosting Media or Files on Amazon S3</a>
</h1>
<div class=post-content>
<p>As I&rsquo;ve mentioned in previous posts, I&rsquo;m a big fan of <a href=https://jekyllrb.com/ target=_blank>Jekyll</a>
for creating static websites. The one obvious shortcoming of Jekyll is the entire site must be regenerated when adding even a single post. Lately I&rsquo;ve been experimenting with <a href=http://micro.blog target=_blank>Micro.blog</a>
for personal posts not appropriate here. It has an iOS app for making quick updates from your phone, and hooks into Twitter and Facebook for automatic cross-posting to your social feeds. Yes, I could post directly on Twitter or Facebook, but I like hosting my content independently. That said, <a href=http://micro.blog target=_blank>Micro.blog</a>
does have one shortcoming in my use. To post anything more than just a simple photo, it must be hosted elsewhere and linked. Of course, I could post my media on any number of free services available, but I want to ensure the links don&rsquo;t break if their URL scheme changes, or they happen to go under. For this reason, I decided to host my files on Amazon&rsquo;s S3 service.</p>
<p>During my research, I found many posts out there on hosting content using Amazon S3, but none had a process that worked specifically for me. I&rsquo;ve documented here the steps I followed, mainly for my benefit, but I&rsquo;m hoping you will also find it useful.</p>
<p>First off, to use Amazon Web Services, you need an Amazon account. Assuming most everyone has an account, I&rsquo;m not covering those steps here. Nonetheless, if you don&rsquo;t have an account, you need to set one up before going further.</p>
<ol>
<li>
<p>Go to the <a href=https://aws.amazon.com target=_blank>Amazon Web Services</a>
page and sign into the AWS console using your account<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>.</p>
</li>
<li>
<p>Once logged in, under <strong>Services</strong>, select <strong>S3</strong>.</p>
</li>
<li>
<p>On the <strong>S3</strong> page, click on the button labelled <strong>Create Bucket</strong>.</p>
<img src=AWS_S3_Create_Bucket.png alt="AWS S3 Create Bucket" class=left style=border-radius:4px>
</li>
<li>
<p>Enter a bucket name and select an appropriate region for hosting, then click <strong>Next</strong>. In this example, I have used <code>files.bftsystems.ca.</code> Any name could do, but this makes it easy for me to remember what URL links to this bucket.</p>
<img src=AWS_S3_Bucket_Name.png alt="AWS S3 Bucket Name" class=left style=border-radius:4px;width:75%>
</li>
<li>
<p>You will be prompted for properties to associate with this bucket. As this will be used for simple hosting of public files, no special properties are needed. Just click <strong>Next</strong> to accept the defaults.</p>
</li>
<li>
<p>You will now be prompted to select permissions for this bucket. The only setting to be changed are the public permissions. Change this to <strong>Grant public read access to this bucket</strong> and click <strong>Next</strong>.</p>
<img src=AWS_S3_Public_Permissions.png alt="AWS S3 Public Permissions" class=left style=border-radius:4px;width:75%>
</li>
<li>
<p>Lastly, a summary of the bucket settings will be shown. Confirm everything, then click <strong>Create bucket</strong>.</p>
</li>
<li>
<p>Once the bucket is created, it will appear on the S3 page. Click the bucket name in the list to open it.</p>
<img src=AWS_S3_Bucket_List.png alt="AWS S3 Bucket List" class=left style=border-radius:4px;width:75%>
</li>
<li>
<p>When the bucket opens, click the <strong>Upload</strong> button to begin adding files. There are many tools available to simplify uploading of files to S3<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>, but for the purposes of this tutorial, I&rsquo;ll cover the steps to upload using the website.</p>
<img src=AWS_S3_Upload.png alt="AWS S3 Upload" class=left style=border-radius:4px>
</li>
<li>
<p>When prompted, click the <strong>Add files</strong> link to open a file browser and select the files to upload, or drag and drop the files to the browser window. Once all the files to upload are in the list, click <strong>Next</strong> to begin the upload process.</p>
</li>
<li>
<p>Once again, when prompted for permissions, select <strong>Grant public read access to these object(s)</strong> to allow access from the web.</p>
</li>
<li>
<p>As no special properties are required, you can safely click the <strong>Upload</strong> button at this point to skip the remaining steps.</p>
</li>
<li>
<p>When the upload completes, the files will appear in the bucket list (pun intended), but they are not yet publicly accessible. To enable this, select the files, then click the <strong>Make public</strong> option under the <strong>More</strong> button. You will see a warning the objects will now be made public. Click the <strong>Make public</strong> button to proceed.</p>
<img src=AWS_S3_Make_Public.png alt="AWS S3 Make Public" class=left style=border-radius:4px>
</li>
</ol>
<p>Once the steps above are completed, all the files uploaded will be accessible using the Amazon S3 URL at <strong>files.bftsystems.ca.s3.amazonaws.com</strong>. That works, but I would prefer the URL be a sub-domain of my site. This can be done by adding a <strong>CNAME</strong> record for my domain pointing to the URL of the S3 bucket. How this is done will vary depending on your web host, but here is the screenshot from my web host console.</p>
<img src=AWS_Create_CNAME_Record.png alt="AWS Create CNAME Record" class=left style=border-radius:4px;width:75%;margin-left:2em>
<p>Once this DNS record has been added, all the files I uploaded can now be linked at the URL <strong>files.bftsystems.ca</strong>, totally transparent to my readers.</p>
<p>I have one last recommendation. Although Amazon S3 rates are exceedingly low, they do charge by usage<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup>. To avoid web crawlers indexing my S3 buckets and racking up charges, I always add a <code>robots.txt</code> file with the following text to ensure the bucket is not indexed (at least by web spiders that follow the rules).</p>
<pre><code>User-agent: *
Disallow: /
</code></pre>
<p>I hope you found this post useful, or at least interesting. If you would like to contact me or provide feedback, use the <a href=/contact>Contact</a>
page, or message me on <a href=http://twitter.com/bftsystems target=_blank>Twitter</a>
.</p>
<section class=footnotes role=doc-endnotes>
<hr>
<ol>
<li id=fn:1 role=doc-endnote>
<p>As a reminder, your Amazon credentials will have full root access to all your AWS resources, so use a strong password. I also recommend using two-factor authentication for added security. See the steps <a href=https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_mfa_enable_virtual.html target=_blank>here</a>
to enable Multi-factor authentication in AWS.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
<li id=fn:2 role=doc-endnote>
<p>I personally recommend <a href=https://www.panic.com/transmit target=_blank>Transmit</a>
by Panic. It is available for both macOS and iOS.&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
<li id=fn:3 role=doc-endnote>
<p>As Amazon S3 is a usage based service, I also enable Billing Alerts and PDF invoices by email to keep a close eye on usage. See the steps <a href=https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/monitor_estimated_charges_with_cloudwatch.html target=_blank>here</a>
to enable these features.&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
</ol>
</section>
</div>
</article>
<hr>
<div class=post-info>
<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg>
<span class=tag><a href=/tags/aws/>aws</a></span>
<span class=tag><a href=/tags/hosting/>hosting</a></span>
</p>
<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
885 Words
</p>
<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
2018-03-03 12:00 AM
</p>
</div>
<div class=pagination>
<div class=pagination__title>
<span class=pagination__title-h>Read other posts</span>
<hr>
</div>
<div class=pagination__buttons>
<span class="button previous">
<a href=/posts/2018/05/script-for-exporting-micro.blog-posts-to-jekyll/>
<span class=button__icon>←</span>
<span class=button__text>Script for Exporting Micro.blog posts to Jekyll</span>
</a>
</span>
<span class="button next">
<a href=/posts/2017/10/open-new-terminal-at-folder-in-macos/>
<span class=button__text>Open New Terminal at Folder in macOS</span>
<span class=button__icon>→</span>
</a>
</span>
</div>
</div>
</main>
</div>
<footer class=footer>
<div class=footer__inner>
<div class=footer__content>
<span>&copy; 2021
Brad Thornborrow
<a href=/motd title=motd><svg xmlns="http://www.w3.org/2000/svg" width="22" height="18" viewBox="0 0 20 20" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-left:0;margin-right:.25em"><rect x="3" y="4" width="18" height="15" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></a></span><span><a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a><a href="/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></span>
</div>
</div>
<div class=footer__inner>
<div class=footer__content>
<span>Powered by <a href=http://gohugo.io>Hugo</a> & <a href=https://themes.gohugo.io/hugo-theme-hello-friend-ng/ rel=nofollow>Hello Friend NG</a></span>
</div>
</div>
</footer>
</div>
<script type=text/javascript src=/bundle.min.599099f1f14b78b657d524b28e10e0c5098e7cd46e9c7aed73d577068a276c3ff1bb234cbf29cb313333e83cf411727b43157c91ce5b809e2ffc81664614608e.js integrity="sha512-WZCZ8fFLeLZX1SSyjhDgxQmOfNRunHrtc9V3BoonbD/xuyNMvynLMTMz6Dz0EXJ7QxV8kc5bgJ4v/IFmRhRgjg=="></script>
</body>
</html>